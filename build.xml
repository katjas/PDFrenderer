<project name="PDFrenderer" basedir="." default="jar">

	<property name="build" value="${basedir}/build"/>
	
	<target name="clean">
		<delete dir="${build}" />
		<delete file="PDFrenderer.jar" />
		<delete file="PDFrenderer-sources.jar" />
	</target>

	<target name="init" depends="clean">
		<mkdir dir="${build}"/>
	</target>	
	
	<target name="compile" depends="init">
		<!-- Compile the java code -->
		<javac srcdir="${basedir}/src/main/java" destdir="${build}">
		</javac>
		<copy todir="${build}">
			<fileset dir="${basedir}/src/main/resources" excludes="**/*.java"/>
		</copy>
	</target>	
	
	<target name="jar" depends="compile">
		<!-- Build the jar file -->
		<jar destfile="PDFrenderer.jar">
			<fileset dir="${build}" />
		</jar>
		<!-- build maven sources jar -->
		<jar destfile="PDFrenderer-sources.jar">
			<fileset dir="${basedir}/src/main/java" />
			<fileset dir="${basedir}/src/main/resources" />
		</jar>
	</target>
</project>